workflows:
  plan_to_prd:
    intent: "Spec-first PRD with TDD"
    steps:
      - driver
      - spec_agent
      - test_agent
      - solver
      - skeptic
      - verifier
      - approval_gate
      - memory_agent
    approvals: [prd_signoff]

  architecture_review:
    intent: "Enterprise architecture validation"
    steps:
      - driver
      - spec_agent
      - test_agent
      - nfr_agent
      - domain_experts.backend_architect
      - domain_experts.security_iam
      - domain_experts.devops_platform
      - skeptic
      - experience_agent
      - risk_scorer
      - collapse_agent
      - verifier
      - approval_gate
      - memory_agent
    approvals: [security_signoff]

  release_readiness:
    intent: "Evidence-gated production release"
    steps:
      - driver
      - test_agent
      - nfr_agent
      - cicd_agent
      - prod_safety
      - domain_experts.devops_platform
      - skeptic
      - experience_agent
      - risk_scorer
      - collapse_agent
      - verifier
      - release_manager
      - memory_agent
    approvals: [prod_deploy]
